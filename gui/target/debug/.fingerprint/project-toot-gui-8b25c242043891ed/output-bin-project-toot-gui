{"message":"crate-private type `ProjectTootMessage` in public interface","code":{"code":"E0446","explanation":"A private type was used in a public type signature.\n\nErroneous code example:\n\n```compile_fail,E0446\n#![deny(private_in_public)]\nstruct Bar(u32);\n\nmod foo {\n    use crate::Bar;\n    pub fn bar() -> Bar { // error: private type in public interface\n        Bar(0)\n    }\n}\n\nfn main() {}\n```\n\nThere are two ways to solve this error. The first is to make the public type\nsignature only public to a module that also has access to the private type.\nThis is done by using pub(crate) or pub(in crate::my_mod::etc)\nExample:\n\n```\nstruct Bar(u32);\n\nmod foo {\n    use crate::Bar;\n    pub(crate) fn bar() -> Bar { // only public to crate root\n        Bar(0)\n    }\n}\n\nfn main() {}\n```\n\nThe other way to solve this error is to make the private type public.\nExample:\n\n```\npub struct Bar(u32); // we set the Bar type public\nmod foo {\n    use crate::Bar;\n    pub fn bar() -> Bar { // ok!\n        Bar(0)\n    }\n}\n\nfn main() {}\n```\n"},"level":"error","spans":[{"file_name":"src/subscriptions/websocket.rs","byte_start":1647,"byte_end":1713,"line_start":71,"line_end":71,"column_start":1,"column_end":67,"is_primary":true,"text":[{"text":"pub fn subscribe(baseurl: Url) -> Subscription<ProjectTootMessage> {","highlight_start":1,"highlight_end":67}],"label":"can't leak crate-private type","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"src/messages/mod.rs","byte_start":360,"byte_end":394,"line_start":17,"line_end":17,"column_start":1,"column_end":35,"is_primary":false,"text":[{"text":"pub(crate) enum ProjectTootMessage {","highlight_start":1,"highlight_end":35}],"label":"`ProjectTootMessage` declared as crate-private","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror[E0446]\u001b[0m\u001b[0m\u001b[1m: crate-private type `ProjectTootMessage` in public interface\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/subscriptions/websocket.rs:71:1\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m71\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0mpub fn subscribe(baseurl: Url) -> Subscription<ProjectTootMessage> {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9mcan't leak crate-private type\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m::: \u001b[0m\u001b[0msrc/messages/mod.rs:17:1\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m17\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0mpub(crate) enum ProjectTootMessage {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m----------------------------------\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m`ProjectTootMessage` declared as crate-private\u001b[0m\n\n"}
{"message":"aborting due to previous error","code":null,"level":"error","spans":[],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: aborting due to previous error\u001b[0m\n\n"}
{"message":"For more information about this error, try `rustc --explain E0446`.","code":null,"level":"failure-note","spans":[],"children":[],"rendered":"\u001b[0m\u001b[1mFor more information about this error, try `rustc --explain E0446`.\u001b[0m\n"}
